<div class="job-container">
  <h2 class="job-title">üîç Find Your Next Job</h2>

  <div *ngIf="loading" class="text-center">
    <div class="spinner-border text-primary" role="status">
      <span class="sr-only"></span>
    </div>
  </div>

  <div *ngFor="let job of jobs.position; let i = index" class="job-item">
    <div class="job-info">
      <h3 class="job-name">{{ job.name }}</h3>
      <p class="job-company">{{ job.subcompany }} - {{ job.office }}</p>
      <p class="job-type">
        <span>{{ job.employmentType }}</span> |
        <span>{{ job.seniority }}</span> |
        <span>{{ job.schedule }}</span>
      </p>
    </div>

    <div class="job-meta">
      <p class="job-category">{{ job.recruitingCategory }}</p>
      <p class="job-experience">
        {{ job.yearsOfExperience }}+ years experience
      </p>
      <button class="view-job-btn" (click)="viewJob(job.id, i)">
        View Job
      </button>
    </div>
  </div>
</div>

<div class="toast-container position-fixed bottom-0 end-0 p-3">
  <div
    *ngFor="let toast of jobToast; let i = index"
    class="toast show"
    role="alert"
    aria-live="assertive"
    aria-atomic="true"
  >
    <div class="toast-header">
      <strong class="me-auto">{{ toast.title }}</strong>
      <button
        type="button"
        class="btn-close"
        (click)="closeToast(i)"
        aria-label="Close"
      ></button>
    </div>
    <div class="toast-body">
      <p><strong>Email:</strong> {{ toast.email }}</p>
      <p><strong>Description:</strong> {{ toast.description }}</p>
      <button
        class="btn btn-success btn-sm me-2"
        (click)="approveJob(toast.id)"
      >
        ‚úÖ Approve
      </button>
      <button class="btn btn-danger btn-sm" (click)="markAsSpam(toast.id)">
        üö´ Mark as Spam
      </button>
    </div>
  </div>
</div>
